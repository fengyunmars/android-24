<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
  "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta http-equiv="Content-Style-Type" content="text/css">
<title>V8基准套件测试</title>
<script type="text/javascript" src="base.js"></script>
<script type="text/javascript" src="richards.js"></script>
<script type="text/javascript" src="deltablue.js"></script>
<script type="text/javascript" src="crypto.js"></script>
<script type="text/javascript" src="raytrace.js"></script>
<script type="text/javascript" src="earley-boyer.js"></script>
<script type="text/javascript" src="regexp.js"></script>
<script type="text/javascript" src="splay.js"></script>
<script type="text/javascript" src="navier-stokes.js"></script>
<link type="text/css" rel="stylesheet" href="style.css" />
<script type="text/javascript">
var completed = 0;
var benchmarks = BenchmarkSuite.CountBenchmarks();
var success = true;
var errorInfo = '<b>error<\/b>';
function ShowProgress(name) {
  var status = document.getElementById("status");
  var percentage = ((++completed) / benchmarks) * 100;
  status.innerHTML = "<font color='#000000'>已完成： " + Math.round(percentage) + "%</font>";
}


function AddResult(name, result) {
  var text = name + ': ' + result;
  if (window.lvdsif != null)
  {
  	  if (errorInfo != result)
  	  {
          window.lvdsif.v8Call(name, result);  	  
  	  }
  }
  var results = document.getElementById("results");
  results.innerHTML += ("<font color='#000000'>" + text + "</font><br>");
    
  if (name == "Richards")
    document.result1 = result;
  else if (name == "DeltaBlue")
    document.result2 = result;
  else if (name == "Crypto")
    document.result3 = result;
  else if (name == "RayTrace")
    document.result4 = result;
  else if (name == "EarleyBoyer")
    document.result5 = result;
  else if (name == "RegExp")
    document.result6 = result;
  else if (name == "Splay")
    document.result7 = result;
  else if (name = "NavierStokes")
    document.result8 = result;
}


function AddError(name, error) {
  AddResult(name, errorInfo);
  success = false;
}


function AddScore(score) {
  var status = document.getElementById("status");
  if (success) {
    status.innerHTML = "<font color='#000000'>总成绩: " + score+"</font>";
    document.result = score;
    if (window.lvdsif)
    {
        window.lvdsif.imok("{\"V8\": " + score +"}");
    }
  }
}


function Run() {
  BenchmarkSuite.RunSuites({ NotifyStep: ShowProgress,
                             NotifyError: AddError,
                             NotifyResult: AddResult,
                             NotifyScore: AddScore });
}

function ShowWarningIfObsolete() {
  // If anything goes wrong we will just catch the exception and no
  // warning is shown, i.e., no harm is done.
  try {
    var xmlhttp;
    var next_version = parseInt(BenchmarkSuite.version) + 1;
    var next_version_url = "../v" + next_version + "/run.html";
    if (window.XMLHttpRequest) {
      xmlhttp = new window.XMLHttpRequest();
    } else if (window.ActiveXObject) {
      xmlhttp = new window.ActiveXObject("Microsoft.XMLHTTP");
    }
    xmlhttp.open('GET', next_version_url, true);
    xmlhttp.onreadystatechange = function() {
      if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
        document.getElementById('obsolete').style.display="block";
      }
    };
    xmlhttp.send(null);
  } catch(e) {
    // Ignore exception if check for next version fails.
    // Hence no warning is displayed.
  }
}

function Load() {
  var version = BenchmarkSuite.version;
  document.getElementById("version").innerHTML = version;
  ShowWarningIfObsolete();
  setTimeout(Run, 200);
}
</script>
</head>
<body onload="Load()">
<div>
  <div class="title"><h1>V8 基准套件测试- 版本 <span id="version">?</span></h1></div>
<!--<div class="warning" style="display:none;" id="obsolete">
Warning! This is not the latest version of the V8 benchmark
suite. Consider running the
<a href="http://v8.googlecode.com/svn/data/benchmarks/current/run.html">
latest version</a>.
  </div>-->
  <table>
    <tr>
    <!--<td style="text-align: center">
<div class="run">
  <div id="status">开始测试...</div>
  <div id="results">
  </div>
</div>
</td>-->
      <td class="contents">
<!--This page contains a suite of pure JavaScript benchmarks that we have
used to tune V8. The final score is computed as the geometric mean of
the individual results to make it independent of the running times of
the individual benchmarks and of a reference system (score
100). Scores are not comparable across benchmark suite versions and
higher--> 此测试页面可以用来测试V8引擎的纯脚本性能。最终分数是由各项独立结果综合计算得出。
</br>
<div class="run">
  <div id="status">开始...</div>
  <div id="results">
  </div>
</div>
<ul>
<li><b>Richards基准</b><br>操作系统内核的模拟基准， 最早出现于Matin Richards开发的BCPL中(<i>539 行</i>)。</li>
<li><b>DeltaBlue基准</b><br>单向约束求解，最早出现于 John Maloney 和  Mario Wolczko开发的Smalltalk中 (<i>880 行</i>)。</li>
<li><b>Crypto基准</b><br>Tom Wu开发的以代码为基础的加密解密基准(<i>1698 行</i>)。</li>
<li><b>RayTrace基准</b><br>Adam Burmister开发的以代码为基础的光线追踪基准 (<i>904 行</i>)。</li>
<li><b>EarleyBoyer基准</b><br>经典Scheme 基准， 由Florian Loitsch的Scheme2Js编译器翻译为JavaScript (<i>4684 行</i>)。</li>
<li><b>RegExp基准</b><br>正则表达式基准，从50多个最流行的网页中提取正则表达式操作所产生的(<i>1761 行</i>)。
</li>
<li><b>Splay基准</b><br>数据操作基准，处理伸展树和执行自动内存管理子系统 (<i>394 行</i>)。</li>
<li><b>NavierStokes基准</b><br>根据奥利弗・亨特的代码，在2D上解决navierstokes方程，重操纵双精度数组。 (<i>387 行</i>).</li>
</ul>

<p>
此测试页面会定期升级版本以修正错误。不同的测试版本得出的结果，没有可比性。  以往修订和更改请参见V8日志。  
</p>

</td></tr></table>

</div>

</body>
</html>
